var Web3 = require('Web3');

if(typeof web3 !== 'undefined')
  web3 = new Web3(web3.currentProvider);
else
  web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8000"));


var lockmyetherContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getTrickleBlock","outputs":[{"name":"TrickleBlock","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"getBalance","outputs":[{"name":"Balance","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_blocknumber","type":"uint256"}],"name":"setExpirationBlock","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"getTrickle","outputs":[{"name":"Trickle","type":"bool"}],"type":"function"},{"constant":false,"inputs":[],"name":"withdrawFees","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"getExpirationBlock","outputs":[{"name":"ExpirationBlock","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"getLatestBlock","outputs":[{"name":"BlockNumber","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"getFeeBalance","outputs":[{"name":"FeeBalance","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"setTrickleOn","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"main","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"setTrickleOff","outputs":[],"type":"function"},{"inputs":[],"type":"constructor"}]);
var lockmyether = lockmyetherContract.new(
   {
     from: web3.eth.accounts[0], 
     data: '60606040525b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff02191690830217905550600060016000506000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050819055505b610b35806100966000396000f3606060405236156100b6576000357c0100000000000000000000000000000000000000000000000000000000900480630dd41aab146100c757806312065fe0146100ea57806326d57f771461010d5780633ccfd60b1461012557806343e7519d14610134578063476343ee1461015757806360aa825a1461016657806361d6f78a14610189578063d4c30ceb146101ac578063d762879a146101cf578063dffeadd0146101de578063e5986c23146101ed576100b6565b6100c55b6100c26101fc565b5b565b005b6100d46004805050610942565b6040518082815260200191505060405180910390f35b6100f760048050506107fc565b6040518082815260200191505060405180910390f35b61012360048080359060200190919050506109d0565b005b6101326004805050610485565b005b6101416004805050610984565b6040518082815260200191505060405180910390f35b610164600480505061032e565b005b6101736004805050610900565b6040518082815260200191505060405180910390f35b61019660048050506108f3565b6040518082815260200191505060405180910390f35b6101b9600480505061083e565b6040518082815260200191505060405180910390f35b6101dc6004805050610a63565b005b6101eb60048050506101fc565b005b6101fa6004805050610ae9565b005b6000600060c8340491508160016000506000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082828250540192505081905550813403905080600260005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000506000016000828282505401925050819055506000600260005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000506001016000505411156102ee5761032a565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600101600050819055505b5050565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561042b57600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600060016000506000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005054604051809050600060405180830381858888f19350505050505b600060016000506000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050819055505b565b600060006001600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060020160009054906101000a900460ff1614801561050c575043600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060010160005054115b156106d657600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060030160005054600260005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000506001016000505403600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060000160005054049150600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600301600050544303820290503373ffffffffffffffffffffffffffffffffffffffff16600082604051809050600060405180830381858888f193505050505080600260005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000506000016000505403600260005060003373ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000506000016000508190555043600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600301600050819055506107f7565b43600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600101600050541115610718576107f8565b3373ffffffffffffffffffffffffffffffffffffffff166000600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060000160005054604051809050600060405180830381858888f19350505050506000600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600001600050819055506000600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600101600050819055505b5b5050565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060000160005054905061083b565b90565b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156108ef5760016000506000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000505490506108f0565b5b90565b60004390506108fd565b90565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060010160005054905061093f565b90565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600301600050549050610981565b90565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060020160009054906101000a900460ff1690506109cd565b90565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600101600050541115610a1357610a60565b628954404301811115610a2557610a60565b80600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600101600050819055505b50565b6001600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060020160006101000a81548160ff0219169083021790555043600260005060003373ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600050600301600050819055505b565b6000600260005060003373ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060005060020160006101000a81548160ff021916908302179055505b56', 
     gas: 3000000
   }, function(e, contract){
    console.log(e, contract);
    if (typeof contract.address != 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })